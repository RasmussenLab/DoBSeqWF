// Default  workflow parameters
// Execution specific profile parameters are found in conf/profiles.config
// mads 2024-02-09

plugins {
    id 'nf-amazon'
    id 'nf-validation@0.2.1'
}

params {

    // ID for VCF output files:
    outputId = 'example01'

    sampletable = "$projectDir/sampletable.tsv"

    // Reference genome version

    genomeVersion = 'hg38'

    // Optional processes
    doFastqc = true

    // AdapterRemoval settings
    adapterTrimParameters = [
        "--trimns",
        "--trimqualities",
        "--minquality 30",
        "--adapter1 AGATCGGAAGAGCACACGTCTGAACTCCAGTCA",
        "--adapter2 AGATCGGAAGAGCGTCGTGTAGGGAAAGAGTGT"
        ].join(' ').trim()

    // Misc
    help = false

}

// Processes should always fail if any pipe element has a non-zero exit code.
process.shell = ['/bin/bash', '-euo', 'pipefail']

// Include execution profiles and reference files

includeConfig 'conf/profiles.config'

// Add additional log and tracing. Trace can be adjusted to specific outputs.

trace {
    enabled = true
    file = 'trace.txt'
    overwrite = true
}

report {
    enabled = true
    file = 'report.html'
    overwrite = true
}

// Set default branch if running directly from github

manifest {
    defaultBranch = 'main'
}
